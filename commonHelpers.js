import{a as g,i as y}from"./assets/vendor-b9f84ab9.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();const S=document.querySelector(".header-dropdown"),c=document.querySelector(".header-navigation");S.addEventListener("click",E);function E(){c.classList.contains("active")?(c.classList.add("collapsed"),setTimeout(()=>{c.classList.remove("active")},500)):(c.classList.remove("collapsed"),c.classList.add("active"))}const h=document.querySelector(".burger-open-button"),b=document.querySelector(".menu-close-button"),u=document.querySelector(".header-mobile-menu");h.addEventListener("click",I);b.addEventListener("click",q);function I(){u.classList.remove("menu-close"),u.classList.add("menu-open")}function q(){u.classList.remove("menu-open"),u.classList.add("menu-close")}document.querySelector(".menu-sections-link");document.querySelector(".menu-header-navigation");async function w(t){const i="https://portfolio-js.b.goit.study/api/requests";return await g.post(i,t)}const O=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/,v="user-email",f="user-comment",p=document.querySelector(".footer-form"),a=document.getElementById("user-email"),n=document.getElementById("user-comment"),l=document.querySelector(".form-fields"),d=document.querySelector(".backdrop");B();a.addEventListener("input",D);n.addEventListener("input",P);p.addEventListener("submit",F);p.addEventListener("input",t=>{const s=a.value,r=n.value;A(s,r)});document.addEventListener("keydown",t=>{t.key==="Escape"&&d.classList.remove("is-open")});d.addEventListener("click",t=>{(t.target===d||t.target.closest(".modal-close-btn"))&&N()});function D(){O.test(a.value.trim())?(a.classList.remove("invalid"),a.classList.add("valid"),l.dataset.status="Success!",l.style.setProperty("--status-color","#3cbc81")):(a.classList.remove("valid"),a.classList.add("invalid"),l.dataset.status="Invalid email, try again",l.style.setProperty("--status-color","#e74a3b"))}function P(){n.value.trim().length>=3?(n.classList.remove("invalid"),n.classList.add("valid")):(n.classList.remove("valid"),n.classList.add("invalid"))}async function F(t){t.preventDefault();const s=t.target.elements.userEmail.value.trim().toLowerCase(),r=t.target.elements.userComment.value.trim();await w({email:s,comment:r}).then(()=>{M(),L(),d.classList.add("is-open")}).catch(e=>{y.error({position:"topRight",message:"An error occurred while sending the request. Try again."})})}function N(){L(),d.classList.remove("is-open")}function L(){l.dataset.status="",a.classList.remove("valid"),n.classList.remove("valid"),p.reset()}function A(t,s){localStorage.setItem(v,t),localStorage.setItem(f,s)}function B(){a.value=localStorage.getItem(v)??"",n.value=localStorage.getItem(f)??""}function M(){localStorage.removeItem(v),localStorage.removeItem(f)}
//# sourceMappingURL=commonHelpers.js.map
